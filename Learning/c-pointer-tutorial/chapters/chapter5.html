<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5. Call by Reference | C Pointer Tutorial</title>
    <meta name="description" content="èªªæ˜ç¨‹å¼çš„è¨˜æ†¶é«”å€å¡Šï¼ˆHeap / Stack / Static / Codeï¼‰ï¼Œä¸¦ç”¨å‚³å€å‘¼å«èˆ‡å‚³å€¼å‘¼å«æ¯”è¼ƒå…¶åœ¨ Stack ä¸Šçš„å·®ç•°èˆ‡ä½å€é—œä¿‚ã€‚">
    
    <link rel="stylesheet" href="/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Fira+Code&display=swap" rel="stylesheet">
    
    <style>
        /* --- ç« ç¯€å…§é å°ˆå±¬æ¨£å¼ (åŒ Chapter 1) --- */
        
        .zen-page-header,
        .chapter-content,
        .chapter-nav {
            max-width: 820px;         
            margin-left: 5%;          
            margin-right: auto;       
        }

        .chapter-content h2 {
            margin-top: 60px;
            margin-bottom: 30px;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .chapter-content h2 span { font-size: 1.4rem; }

        .chapter-content p {
            margin-bottom: 25px;
            font-size: 1.05rem;
            color: var(--text-secondary);
            line-height: 1.9;
            letter-spacing: 0.02em;
        }

        .chapter-content ul, .chapter-content ol {
            margin-bottom: 30px;
            padding-left: 20px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .chapter-content li { margin-bottom: 12px; }

        .highlight-box {
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent-primary);
            padding: 25px 30px;
            margin: 40px 0;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .highlight-title {
            font-weight: bold;
            color: var(--accent-primary);
            margin-bottom: 15px;
            display: block;
            font-family: 'Fira Code', monospace;
            font-size: 1.1rem;
        }

        /* --- ç¨‹å¼ç¢¼å€å¡Š --- */
        .code-container {
            position: relative;
            margin: 40px 0;
        }

        pre {
            background: #1e1e1e; /* ä¿æŒæ·±è‰²èƒŒæ™¯ä»¥é…åˆé«˜äº®é¡è‰² */
            color: #f8f8f2;      /* èª¿æ•´ç‚ºé©åˆèªæ³•é«˜äº®çš„é è¨­æ–‡å­—é¡è‰² */
            padding: 25px;
            padding-top: 45px;
            border-radius: 12px;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            font-size: 0.95rem;
            border: 1px solid #333;
            line-height: 1.6;
            box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        }

        /* --- èªæ³•é«˜äº®æ¨£å¼ (ä¾†è‡ªåŸæª”æ¡ˆ) --- */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .number { color: #bd93f9; }
        .function { color: #50fa7b; }
        .type { color: #8be9fd; }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #ddd;
            padding: 6px 14px;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .copy-btn:hover {
            background-color: #ffffff;
            color: #000000;
            border-color: #ffffff;
            font-weight: bold;
        }

        .copy-btn.copied {
            background-color: rgba(255, 255, 255, 0.15);
            color: #ddd;
            border-color: #ffffff;
        }

        /* --- åœ–ç‰‡å›ºå®šå€åŸŸæ¨£å¼ --- */
        .img-container {
            width: 100%;
            max-width: 700px;
            height: 400px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin: 40px auto;
            
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }
        
        .img-container img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: none;
        }

        .chapter-nav {
            margin-top: 80px;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color); 
            min-width: 120px;
        }

        .nav-btn:hover {
            background-color: var(--text-primary) !important;
            color: var(--bg-primary) !important;
            border-color: var(--text-primary) !important;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            font-weight: 700;
        }

        @media (max-width: 1200px) {
            .zen-page-header, .chapter-content, .chapter-nav {
                margin-left: 20px;
                margin-right: 20px;
            }
        }

        @media (max-width: 768px) {
            .chapter-nav { flex-direction: column; }
            .nav-btn { width: 100%; justify-content: center; }
            .img-container { height: 300px; }
        }
    </style>
</head>
<body>
    
    <header class="zen-header">
        <div class="container">
            <nav>
                <a href="/" class="logo">TingNotes</a>
                <div class="nav-controls">
                    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ›æ¨¡å¼">
                        <svg class="theme-icon" id="theme-icon" width="20" height="20" viewBox="0 0 24 24"></svg>
                    </button>
                    <button class="menu-trigger" onclick="toggleMobileMenu()">
                        <span class="menu-label">MENU</span>
                        <div class="hamburger-icon"><span></span><span></span></div>
                    </button>
                </div>
                <div class="hidden-nav-overlay">
                    <ul class="nav-links-vertical">
                        <li><a href="/Learning/index.html" class="nav-item"><span class="nav-num">01.</span> å­¸ç¿’ Learning</a></li>
                        <li><a href="/Career/index.html" class="nav-item"><span class="nav-num">02.</span> è·æ¶¯ Career</a></li>
                        <li><a href="/Travel/index.html" class="nav-item"><span class="nav-num">03.</span> æ—…éŠ Travel</a></li>
                        <li><a href="/Others/index.html" class="nav-item"><span class="nav-num">04.</span> é›œäº‹ Others</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="zen-page-header fade-in">
                <div class="breadcrumb">
                    <a href="/Learning/c-pointer-tutorial/index.html">..</a> / Chapter <span id="chap-num-display">5</span>
                </div>
                <h1 class="page-title">Call by Reference</h1>
                <p class="page-subtitle">è¨˜æ†¶é«”å€å¡Šæ¦‚å¿µã€å‚³å€ï¼ˆCall by Addressï¼‰èˆ‡å‚³å€¼ï¼ˆCall by Valueï¼‰æ¯”è¼ƒ</p>
            </div>

            <article class="chapter-content fade-in">
                
                <h2><span>ğŸ“¦</span> è¨˜æ†¶é«”å€å¡Š</h2>
                
                <div class="img-container">
                    <img src="images/ch5-memory-layout.png" alt="Memory Layout">
                </div>

                <ul>
                    <li><strong>Heapï¼ˆå †ç©å€ï¼‰</strong>
                        <ul>
                            <li>ç”¨æ–¼å‹•æ…‹è¨˜æ†¶é«”é…ç½®ï¼ˆå¦‚ <code>malloc</code>ã€<code>calloc</code>ï¼‰ã€‚</li>
                            <li>éœ€æ‰‹å‹•é‡‹æ”¾ï¼›å¦å‰‡å¯èƒ½è¨˜æ†¶é«”æ´©æ¼ã€‚</li>
                            <li>é©åˆå¤§å°æˆ–å­˜æ´»æœŸåˆ°åŸ·è¡ŒæœŸæ‰æ±ºå®šçš„è³‡æ–™ã€‚</li>
                        </ul>
                    </li>
                    <li><strong>Stackï¼ˆå †ç–Šå€ï¼‰</strong>
                        <ul>
                            <li>å„²å­˜å‡½å¼å€åŸŸè®Šæ•¸èˆ‡åƒæ•¸ã€‚</li>
                            <li>æ¯æ¬¡å‘¼å«å»ºç«‹ä¸€å€‹ <em>stack frame</em>ï¼ŒçµæŸå¾Œè‡ªå‹•å›æ”¶ã€‚</li>
                        </ul>
                    </li>
                    <li><strong>Static / Globalï¼ˆéœæ…‹/å…¨åŸŸå€ï¼‰</strong>
                        <ul>
                            <li>å…¨åŸŸè®Šæ•¸èˆ‡éœæ…‹è®Šæ•¸å­˜æ”¾å€ï¼Œç›´åˆ°ç¨‹å¼çµæŸæ‰é‡‹æ”¾ã€‚</li>
                        </ul>
                    </li>
                    <li><strong>Code (Text) å€</strong>
                        <ul>
                            <li>å„²å­˜æ©Ÿå™¨æŒ‡ä»¤ï¼Œé€šå¸¸å”¯è®€ã€‚</li>
                        </ul>
                    </li>
                </ul>

                <h2><span>ğŸ”—</span> å‚³å€å‘¼å«ï¼ˆCall by Addressï¼‰</h2>
                
                <div class="img-container">
                    <img src="images/ch5-call-by-address.png" alt="Call by Address Diagram">
                </div>

                <p>å°‡<strong>è®Šæ•¸ä½å€</strong>å‚³å…¥å‡½å¼ï¼ˆåƒæ•¸å‹åˆ¥ç‚º <code>int*</code>ï¼‰ï¼Œåœ¨å‡½å¼å…§ä»¥ <code>*p</code> æ”¹å€¼ï¼Œæœƒç›´æ¥åæ˜ åœ¨å‘¼å«ç«¯è®Šæ•¸ä¸Šã€‚</p>

                <div class="code-container">
                    <button class="copy-btn">Copy</button>
                    <pre><code><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">void</span> <span class="function">increase</span>(<span class="type">int</span> *a){
    *a = *a + <span class="number">1</span>;
    printf(<span class="string">"Address of a in function: %p\n"</span>, (<span class="type">void</span>*)a);
}

<span class="type">int</span> <span class="function">main</span>(<span class="type">void</span>){
    <span class="type">int</span> a = <span class="number">10</span>;
    printf(<span class="string">"Address of a in main: %p\n"</span>, (<span class="type">void</span>*)&a);
    increase(&a);
    printf(<span class="string">"%d\n"</span>, a); <span class="comment">// a æœƒè®Šæˆ 11</span>
    <span class="keyword">return</span> <span class="number">0</span>;
}</code></pre>
                </div>

                <h2><span>ğŸ“¤</span> å‚³å€¼å‘¼å«ï¼ˆCall by Valueï¼‰</h2>
                
                <div class="img-container">
                    <img src="images/ch5-call-by-value.png" alt="Call by Value Diagram">
                </div>

                <p>å°‡<strong>å€¼çš„è¤‡æœ¬</strong>å‚³å…¥å‡½å¼ï¼ˆåƒæ•¸å‹åˆ¥ç‚º <code>int</code>ï¼‰ï¼Œå‡½å¼å…§å°åƒæ•¸çš„æ›´å‹•åªå½±éŸ¿è¤‡æœ¬ï¼Œä¸æœƒå›å¯«åˆ°å‘¼å«ç«¯ã€‚</p>

                <div class="code-container">
                    <button class="copy-btn">Copy</button>
                    <pre><code><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">void</span> <span class="function">increase</span>(<span class="type">int</span> a){
    a++;
    printf(<span class="string">"Address of a in function: %p\n"</span>, (<span class="type">void</span>*)&a);
}

<span class="type">int</span> <span class="function">main</span>(<span class="type">void</span>){
    <span class="type">int</span> a = <span class="number">10</span>;
    printf(<span class="string">"Address of a in main: %p\n"</span>, (<span class="type">void</span>*)&a);
    increase(a);
    printf(<span class="string">"%d\n"</span>, a); <span class="comment">// a ä»æ˜¯ 10</span>
    <span class="keyword">return</span> <span class="number">0</span>;
}</code></pre>
                </div>

                <h2><span>âš–ï¸</span> æ¯”è¼ƒèˆ‡å¸¸è¦‹æƒ…å¢ƒ</h2>
                
                <div class="highlight-box">
                    <span class="highlight-title">ğŸ’¡ é¸æ“‡å»ºè­°</span>
                    <ul>
                        <li>éœ€è¦å›å‚³å¤šå€‹çµæœæˆ–ä¿®æ”¹å‘¼å«ç«¯è®Šæ•¸ â†’ ç”¨ <strong>å‚³å€</strong>ï¼ˆæˆ–å›å‚³æŒ‡æ¨™/çµæ§‹ï¼‰ã€‚</li>
                        <li>åƒ…éœ€è®€å€¼ã€é¿å…è¢«å‡½å¼æ›´æ”¹ â†’ ç”¨ <strong>å‚³å€¼</strong>ï¼ˆæˆ– <code>const</code> æŒ‡æ¨™ï¼‰ã€‚</li>
                        <li>å¤§å‹çµæ§‹é«”å»ºè­°ä»¥ <code>const T*</code> å‚³éï¼Œé™ä½è¤‡è£½æˆæœ¬ã€‚</li>
                    </ul>
                </div>

                <h2><span>âœ…</span> æœ¬ç« é‡é»ç¸½çµ</h2>
                <ul>
                    <li>Stack æœƒç‚ºæ¯æ¬¡å‡½å¼å‘¼å«å»ºç«‹ <em>stack frame</em>ï¼›ä½å€å·®ç•°å¯ç”¨ <code>%p</code> è§€å¯Ÿã€‚</li>
                    <li><strong>å‚³å€</strong>ï¼šæ”¹ <code>*p</code> æœƒæ”¹åˆ°å‘¼å«ç«¯è®Šæ•¸ã€‚</li>
                    <li><strong>å‚³å€¼</strong>ï¼šåªæ”¹åˆ°è¤‡æœ¬ï¼Œä¸å½±éŸ¿å‘¼å«ç«¯ã€‚</li>
                </ul>

            </article>

            <div class="chapter-nav fade-in">
                <a href="chapter4.html" class="nav-btn">&lt; PREV</a>
                <a href="/Learning/c-pointer-tutorial/index.html" class="nav-btn menu-btn">MENU</a>
                <a href="chapter6.html" class="nav-btn">NEXT &gt;</a>
            </div>
        </div>
    </main>

    <footer class="zen-footer">
        <div class="container">
            <div class="footer-links">
                <a href="/about.html">About</a>
                <a href="mailto:contact@tingnotes.io">Contact</a>
            </div>
            <p class="copyright">Â© 2025 TingNotes.io</p>
        </div>
    </footer>

    <script type="module" src="/script.js"></script>

    <script src="../js/chapter.js"></script>
    
</body>
</html>